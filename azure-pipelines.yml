trigger:
- main

pool:
  vmImage: ubuntu-latest

steps:
- checkout: self

# ðŸ”¹ Step 1: Install Terraform
- task: TerraformInstaller@1
  displayName: Install Terraform
  inputs:
    terraformVersion: '1.6.6'

# ðŸ”¹ Step 2: Run Terraform using Azure CLI
- task: AzureCLI@2
  displayName: Terraform Init & Plan
  inputs:
    azureSubscription: azurerm-terraform-sc
    scriptType: bash
    scriptLocation: inlineScript
    inlineScript: |
      terraform --version
      terraform init
      terraform validate
      terraform plan
